import{d as le,r as o,g as D,h as S,c as R,e as t,w as i,v as h,i as A,j as w,k as O,t as d,l as oe,F as ne,f as re,m as se,n as E,o as F}from"./index-8Ng0QDaG.js";const ue={class:"p-4 max-w-7xl mx-auto text-gray-800 dark:text-gray-100"},ie={class:"flex flex-col lg:flex-row items-stretch gap-6 w-full"},de={class:"flex flex-col flex-1 space-y-4"},ve={class:"flex flex-col flex-1 space-y-4"},ge={class:"space-y-2"},ce={class:"flex items-center gap-2"},pe={class:"flex items-center gap-4"},me={class:"flex items-center gap-2"},be=["value"],fe={class:"flex flex-wrap items-center gap-4"},xe={class:"flex items-center gap-2"},ye={class:"flex items-center"},he={class:"flex items-center gap-2"},we={class:"flex items-center gap-3"},ke={key:0},Ce={class:"flex items-baseline gap-2 mb-1 flex-wrap"},Te={class:"flex items-center gap-1 text-sm"},Ue={class:"inline-block overflow-hidden rounded border shadow bg-checkerboard"},Ve=["src","width","height"],De={key:1},Se={class:"flex items-baseline gap-2 mb-1 flex-wrap"},Me=le({__name:"SvgView",setup(Re){const s=o(""),p=o(null),k=o(""),b=o(0),f=o(0),n=o("original"),x=o(200),v=o(500),g=o(500),C=o(!0),m=o(!1),T=o(1),M=o(!1),N=o(!1),B=o(!1),y=o("converted"),K=[25,50,75,100,125,150,175,200,250,300,400,500,600,700,800,900,1e3],P=D(()=>Math.round(b.value*x.value/100)),W=D(()=>Math.round(f.value*x.value/100)),U=D(()=>n.value==="original"?b.value:n.value==="scale"?P.value:v.value),V=D(()=>n.value==="original"?f.value:n.value==="scale"?W.value:g.value);S(v,l=>{C.value&&n.value==="custom"&&(g.value=Math.round(l/T.value))}),S(g,l=>{C.value&&n.value==="custom"&&(v.value=Math.round(l*T.value))});function q(l){return l.includes("xmlns=")?l:l.replace(/<svg\b/,'<svg xmlns="http://www.w3.org/2000/svg"')}function J(l){var _,j,H,z;let e=300,a=150;const r=(j=(_=l.match(/viewBox=["']([^"']+)["']/))==null?void 0:_[1])==null?void 0:j.split(/\s+/).map(Number);r&&r.length===4&&([,,e,a]=r);const u=parseFloat(((H=l.match(/width=["']([^"']+)["']/))==null?void 0:H[1])||""),c=parseFloat(((z=l.match(/height=["']([^"']+)["']/))==null?void 0:z[1])||"");return{width:isNaN(u)?e:u,height:isNaN(c)?a:c}}function $(l){const e=document.createElement("canvas");e.width=U.value,e.height=V.value;const a=e.getContext("2d");if(!a||!s.value.trim())return;a.setTransform(1,0,0,1,0,0);const r=q(s.value),u=URL.createObjectURL(new Blob([r],{type:"image/svg+xml"})),c=new Image;c.onload=()=>{a.clearRect(0,0,e.width,e.height),a.filter=m.value?"invert(1)":"none",a.drawImage(c,0,0,U.value,V.value),l(e),URL.revokeObjectURL(u)},c.onerror=()=>{console.error("SVG 로드 오류"),URL.revokeObjectURL(u)},c.src=u}function I(l){const{width:e,height:a}=J(l);b.value=e,f.value=a,T.value=e/a,g.value=Math.round(v.value/T.value),G()}function G(){$(l=>{const e=l.toDataURL("image/png");p.value=e,k.value=`<img src="${e}" width="${U.value}" height="${V.value}" alt="Converted SVG" />`})}function Q(l){var a;const e=(a=l.target.files)==null?void 0:a[0];if(e!=null&&e.name.endsWith(".svg")){const r=new FileReader;r.onload=()=>{s.value=r.result,y.value=e.name.replace(/\.svg$/i,""),I(s.value)},r.readAsText(e)}}function X(l){var a,r;l.preventDefault();const e=(r=(a=l.dataTransfer)==null?void 0:a.files)==null?void 0:r[0];if(e!=null&&e.name.endsWith(".svg")){const u=new FileReader;u.onload=()=>{s.value=u.result,y.value=e.name.replace(/\.svg$/i,""),I(s.value)},u.readAsText(e)}}function Y(l){l.preventDefault()}function Z(){if(p.value){const l=document.createElement("a");l.href=p.value,l.download=`${y.value||"converted"}.png`,l.click(),M.value=!0,setTimeout(()=>M.value=!1,3e3)}}function ee(){$(l=>{l.toBlob(e=>{e&&navigator.clipboard.write([new ClipboardItem({"image/png":e})]).then(()=>{N.value=!0,setTimeout(()=>N.value=!1,3e3)})},"image/png")})}function te(){navigator.clipboard.writeText(k.value).then(()=>{B.value=!0,setTimeout(()=>B.value=!1,3e3)})}S(s,l=>{l.trim().startsWith("<svg")&&I(l)}),S([n,x,v,g,m],()=>{s.value&&b.value&&f.value&&G()});function ae(){n.value="scale"}function L(){n.value="custom"}return(l,e)=>(F(),R("div",ue,[t("div",ie,[t("section",de,[e[11]||(e[11]=t("h2",{class:"text-xl font-semibold border-b pb-1"},"📝 SVG Input",-1)),i(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a),rows:"6",class:"w-full p-2 border rounded font-mono text-sm dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100",placeholder:"<svg ...>...</svg>"},null,512),[[h,s.value]]),t("div",{class:"border-2 border-dashed rounded p-6 text-center text-gray-500 dark:text-gray-400 dark:border-gray-600",onDrop:X,onDragover:Y}," Drag and drop your SVG file here ",32),t("input",{type:"file",accept:".svg",onChange:Q,class:"block w-full text-sm file:mr-4 file:px-4 file:py-2 file:border file:rounded file:bg-gray-100 dark:file:bg-gray-700 file:text-sm"},null,32)]),t("section",ve,[e[21]||(e[21]=t("h2",{class:"text-xl font-semibold border-b pb-1"},"📤 PNG Output",-1)),t("div",ge,[t("label",ce,[i(t("input",{type:"radio","onUpdate:modelValue":e[1]||(e[1]=a=>n.value=a),value:"original"},null,512),[[O,n.value]]),w(" Original ("+d(b.value)+"×"+d(f.value)+") ",1)]),t("div",pe,[t("label",me,[i(t("input",{type:"radio","onUpdate:modelValue":e[2]||(e[2]=a=>n.value=a),value:"scale"},null,512),[[O,n.value]]),e[12]||(e[12]=w(" Scale "))]),i(t("select",{onFocus:ae,"onUpdate:modelValue":e[3]||(e[3]=a=>x.value=a),class:"w-24 px-1 py-1 border rounded dark:bg-gray-800 dark:border-gray-600"},[(F(),R(ne,null,re(K,a=>t("option",{key:a,value:a},d(a)+"%",9,be)),64))],544),[[oe,x.value,void 0,{number:!0}]]),t("span",null,"("+d(P.value)+"×"+d(W.value)+")",1)]),t("div",fe,[t("label",xe,[i(t("input",{type:"radio","onUpdate:modelValue":e[4]||(e[4]=a=>n.value=a),value:"custom"},null,512),[[O,n.value]]),e[13]||(e[13]=w(" Custom size "))]),t("div",ye,[i(t("input",{type:"number",onFocus:L,"onUpdate:modelValue":e[5]||(e[5]=a=>v.value=a),min:"1",class:"w-20 px-1 border rounded dark:bg-gray-800 dark:border-gray-600"},null,544),[[h,v.value,void 0,{number:!0}]]),e[14]||(e[14]=t("span",{class:"mx-1"},"×",-1)),i(t("input",{type:"number",onFocus:L,"onUpdate:modelValue":e[6]||(e[6]=a=>g.value=a),min:"1",class:"w-20 px-1 border rounded dark:bg-gray-800 dark:border-gray-600"},null,544),[[h,g.value,void 0,{number:!0}]])]),t("label",he,[i(t("input",{type:"checkbox",onFocus:L,"onUpdate:modelValue":e[7]||(e[7]=a=>C.value=a)},null,544),[[se,C.value]]),e[15]||(e[15]=w(" Keep aspect ratio "))])]),e[17]||(e[17]=t("hr",null,null,-1)),t("label",we,[e[16]||(e[16]=t("span",null,"🌓 Invert",-1)),t("button",{onClick:e[8]||(e[8]=a=>m.value=!m.value),type:"button",class:E(["relative inline-flex items-center h-6 w-11 rounded-full transition-colors focus:outline-none",m.value?"bg-blue-600 dark:bg-blue-400":"bg-gray-300 dark:bg-gray-600"])},[t("span",{class:E(["inline-block w-4 h-4 transform bg-white rounded-full transition-transform",m.value?"translate-x-6":"translate-x-1"])},null,2)],2)])]),p.value?(F(),R("div",ke,[t("div",null,[t("div",Ce,[e[19]||(e[19]=t("h3",{class:"font-semibold m-0"},"📷 Preview",-1)),t("button",{onClick:ee,class:"text-xs px-2 py-0.5 bg-gray-300 dark:bg-gray-700 text-black dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600"},d(N.value?"✔ Copied!":"📋 Copy"),1),t("button",{onClick:Z,class:"text-xs px-2 py-0.5 bg-gray-300 dark:bg-gray-700 text-black dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600"},d(M.value?"✔ Downloaded!":"⬇ Download"),1),t("label",Te,[e[18]||(e[18]=w(" Filename ")),i(t("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>y.value=a),type:"text",placeholder:"converted",class:"w-40 px-2 py-1 border rounded dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100"},null,512),[[h,y.value]])])]),t("div",Ue,[t("img",{src:p.value,width:U.value,height:V.value,alt:"PNG Preview"},null,8,Ve)])])])):A("",!0),p.value?(F(),R("div",De,[t("div",Se,[e[20]||(e[20]=t("h3",{class:"font-semibold m-0"},"🧾 <img> Tag (Base64)",-1)),t("button",{onClick:te,class:"text-xs px-2 py-0.5 bg-gray-300 dark:bg-gray-700 text-black dark:text-white rounded hover:bg-gray-400 dark:hover:bg-gray-600"},d(B.value?"✔ Copied!":"📋 Copy"),1)]),i(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=a=>k.value=a),rows:"4",readonly:"",class:"w-full p-2 border rounded font-mono text-sm dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100"},null,512),[[h,k.value]])])):A("",!0)])])]))}});export{Me as default};
